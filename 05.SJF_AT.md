```
#!/bin/bash

echo "Enter the number of processes:"
read n

# Arrays
arrival=()
burst=()
process=()
ct=()
tat=()
wt=()
completed=()

# Input arrival and burst times
for ((i=0; i<n; i++))
do
    echo "Enter arrival time for P$((i+1)):"
    read at
    arrival[$i]=$at
    echo "Enter burst time for P$((i+1)):"
    read bt
    burst[$i]=$bt
    process[$i]=$((i+1))
    completed[$i]=0   # 0 = not completed
done

time=0
count=0

# Main loop for SJF Non-preemptive
while [ $count -lt $n ]
do
    # Find process with minimum burst time among arrived and not completed
    min_bt=9999
    min_index=-1
    for ((i=0; i<n; i++))
    do
        if [ ${arrival[$i]} -le $time ] && [ ${completed[$i]} -eq 0 ]
        then
            if [ ${burst[$i]} -lt $min_bt ]
            then
                min_bt=${burst[$i]}
                min_index=$i
            fi
        fi
    done

    if [ $min_index -eq -1 ]
    then
        ((time++))
    else
        # Process selected
        ct[$min_index]=$((time + burst[$min_index]))
        tat[$min_index]=$(( ct[$min_index] - arrival[$min_index] ))
        wt[$min_index]=$(( tat[$min_index] - burst[$min_index] ))
        time=${ct[$min_index]}
        completed[$min_index]=1
        ((count++))
    fi
done

# Display results
echo ""
echo "Process  ArrivalTime  BurstTime  CompletionTime  TurnAroundTime  WaitingTime"
for ((i=0; i<n; i++))
do
    echo "P${process[$i]}        ${arrival[$i]}            ${burst[$i]}          ${ct[$i]}              ${tat[$i]}             ${wt[$i]}"
done

# Calculate averages
total_wt=0
total_tat=0
for ((i=0; i<n; i++))
do
    total_wt=$(( total_wt + wt[$i] ))
    total_tat=$(( total_tat + tat[$i] ))
done

avg_wt=$(echo "scale=2; $total_wt / $n" | bc)
avg_tat=$(echo "scale=2; $total_tat / $n" | bc)

echo ""
echo "Average Waiting Time: $avg_wt"
echo "Average Turnaround Time: $avg_tat"

# Generate Gantt chart
echo ""
echo "Gantt Chart:"
echo -n "|"
for ((i=0; i<n; i++))
do
    echo -n "  P${process[$i]}  |"
done

# Print timeline below the Gantt chart
echo ""
for ((i=0; i<n; i++))
do
    if [ $i -eq 0 ]
    then
        printf "%-6s" "0"
    fi
    printf "%-8s" "${ct[$i]}"
done
echo ""
```
