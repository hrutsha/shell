```
#!/bin/bash
# সহজ Priority Scheduling (Non-Preemptive) with Arrival Time
# ছোট priority মান = উচ্চ priority

echo -n "কতটি process? "
read n

# arrays
for ((i=0;i<n;i++)); do
  pid[$i]=$((i+1))
  echo -n "P${pid[$i]} এর arrival time: "
  read arrival[$i]
  echo -n "P${pid[$i]} এর burst time: "
  read burst[$i]
  echo -n "P${pid[$i]} এর priority (lower = higher): "
  read priority[$i]
  completed[$i]=0
done

time=0
done_count=0
exec_order=()
end_times=()

# শুরু যদি earliest arrival > 0 হয়, সেটাকে time করে নেই
earliest=${arrival[0]}
for ((i=1;i<n;i++)); do
  if [ ${arrival[$i]} -lt $earliest ]; then earliest=${arrival[$i]}; fi
done
if [ $earliest -gt 0 ]; then time=$earliest; fi

while [ $done_count -lt $n ]; do
  idx=-1
  best_pr=999999

  # arrived && not completed মধ্যে সবচেয়ে ছোট priority খুঁজো
  for ((i=0;i<n;i++)); do
    if [ ${completed[$i]} -eq 0 ] && [ ${arrival[$i]} -le $time ]; then
      if [ ${priority[$i]} -lt $best_pr ]; then
        best_pr=${priority[$i]}
        idx=$i
      elif [ ${priority[$i]} -eq $best_pr ]; then
        # tie-breaker: earlier arrival
        if [ ${arrival[$i]} -lt ${arrival[$idx]} ]; then
          idx=$i
        fi
      fi
    fi
  done

  if [ $idx -eq -1 ]; then
    ((time++))
    continue
  fi

  # execute selected process (non-preemptive)
  start=$time
  finish=$(( time + burst[$idx] ))
  ct[$idx]=$finish
  tat[$idx]=$(( ct[$idx] - arrival[$idx] ))
  wt[$idx]=$(( tat[$idx] - burst[$idx] ))
  completed[$idx]=1
  exec_order+=( "${pid[$idx]}" )
  end_times+=( "$finish" )

  time=$finish
  ((done_count++))
done

# output
echo
printf "Process  Arrival  Burst  Priority  Completion  Turnaround  Waiting\n"
for ((i=0;i<n;i++)); do
  printf "P%-7s %-8s %-6s %-8s %-11s %-8s\n" "${pid[$i]}" "${arrival[$i]}" "${burst[$i]}" "${priority[$i]}" "${ct[$i]}" "${tat[$i]}" "${wt[$i]}"
done

# averages
sum_wt=0; sum_tat=0
for ((i=0;i<n;i++)); do
  sum_wt=$((sum_wt + wt[$i]))
  sum_tat=$((sum_tat + tat[$i]))
done
avg_wt=$(echo "scale=2; $sum_wt / $n" | bc)
avg_tat=$(echo "scale=2; $sum_tat / $n" | bc)
echo
echo "Average Waiting Time: $avg_wt"
echo "Average Turnaround Time: $avg_tat"

# সাদামাটা Gantt chart
echo
echo -n "Gantt: |"
for p in "${exec_order[@]}"; do echo -n " P$p |"; done
echo
# timeline
printf "%-4s" "0"
for t in "${end_times[@]}"; do printf "%-8s" "$t"; done
echo

```
