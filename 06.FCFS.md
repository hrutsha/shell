```
#!/usr/bin/bash

# Simple FCFS scheduler (follows the SJF-style structure)
# Input: Arrival time and Burst time for n processes
# Output: CT, TAT, WT, averages and a simple Gantt chart

echo -n "Enter number of processes: "
read n

declare -a pid at bt ct tat wt exec_order

# --- Input ---
for ((i=0; i<n; i++)); do
    pid[$i]=$((i+1))
    echo -n "Enter Arrival Time for P$((i+1)): "
    read at[$i]
    echo -n "Enter Burst Time for P$((i+1)): "
    read bt[$i]
done

# --- Sort by arrival time (so FCFS is simply the array order) ---
for ((i=0; i<n-1; i++)); do
    for ((j=0; j<n-i-1; j++)); do
        if (( at[j] > at[j+1] )); then
            # swap arrival
            tmp=${at[j]}; at[j]=${at[j+1]}; at[j+1]=$tmp
            # swap burst
            tmp=${bt[j]}; bt[j]=${bt[j+1]}; bt[j+1]=$tmp
            # swap pid
            tmp=${pid[j]}; pid[j]=${pid[j+1]}; pid[j+1]=$tmp
        fi
    done
done

# --- FCFS calculation (in sorted arrival order) ---
current_time=0
total_tat=0
total_wt=0

# If first arrival > 0, start at first arrival (CPU idle until then)
if (( n > 0 )) && (( current_time < at[0] )); then
    current_time=${at[0]}
fi

for ((i=0; i<n; i++)); do
    # if CPU is idle because next process arrives later, advance time
    if (( current_time < at[i] )); then
        current_time=${at[i]}
    fi

    # execute process i
    current_time=$(( current_time + bt[i] ))
    ct[$i]=$current_time
    tat[$i]=$(( ct[i] - at[i] ))
    wt[$i]=$(( tat[i] - bt[i] ))

    total_tat=$(( total_tat + tat[i] ))
    total_wt=$(( total_wt + wt[i] ))

    exec_order+=( $i )   # record execution sequence for Gantt
done

# --- Output table ---
echo
printf "%-8s %-8s %-8s %-8s %-8s %-8s\n" "Process" "AT" "BT" "CT" "TAT" "WT"
for ((i=0; i<n; i++)); do
    printf "%-8s %-8s %-8s %-8s %-8s %-8s\n" "P${pid[i]}" "${at[i]}" "${bt[i]}" "${ct[i]}" "${tat[i]}" "${wt[i]}"
done

# --- Averages ---
if (( n > 0 )); then
    avg_tat=$(echo "scale=2; $total_tat / $n" | bc)
    avg_wt=$(echo "scale=2; $total_wt / $n" | bc)
else
    avg_tat=0
    avg_wt=0
fi

echo
echo "Average Turnaround Time: $avg_tat"
echo "Average Waiting Time   : $avg_wt"

# --- Simple Gantt chart (using exec_order) ---
echo
echo "Gantt Chart:"
echo -n "|"
for idx in "${exec_order[@]}"; do
    echo -n "  P${pid[idx]}  |"
done
echo

# timeline
printf "%-6s" "0"
for idx in "${exec_order[@]}"; do
    printf "%-8s" "${ct[$idx]}"
done
echo


```
