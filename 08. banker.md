```
#!/bin/bash
# Simple Banker's Algorithm (following your SJF coding pattern)

echo "Enter number of processes:"
read n
echo "Enter number of resource types:"
read m

# Arrays / matrices (use associative arrays for 2D)
declare -A alloc
declare -A max
declare -A need

process=()
finish=()
safeSeq=()
avail=()

# Input Allocation matrix
for ((i=0; i<n; i++)); do
  process[$i]=$i
  echo "Enter allocation for P$((i)) (enter $m numbers separated by space):"
  for ((j=0; j<m; j++)); do
    read alloc[$i,$j]
  done
done

# Input Maximum matrix
for ((i=0; i<n; i++)); do
  echo "Enter maximum for P$((i)) (enter $m numbers separated by space):"
  for ((j=0; j<m; j++)); do
    read max[$i,$j]
  done
done

# Input Available vector
echo "Enter available resources (enter $m numbers separated by space):"
for ((j=0; j<m; j++)); do
  read avail[$j]
done

# Calculate Need matrix
echo ""
echo "Need Matrix:"
for ((i=0; i<n; i++)); do
  for ((j=0; j<m; j++)); do
    need[$i,$j]=$(( max[$i,$j] - alloc[$i,$j] ))
    echo -n "${need[$i,$j]} "
  done
  echo ""
done

# Initialize finish flags
for ((i=0; i<n; i++)); do
  finish[$i]=0    # 0 = not finished
done

count=0

# Main loop: try to find a process whose need <= avail
while [ $count -lt $n ]; do
  found=0

  for ((i=0; i<n; i++)); do
    if [ ${finish[$i]} -eq 0 ]; then
      canAllocate=1
      for ((j=0; j<m; j++)); do
        if [ ${need[$i,$j]} -gt ${avail[$j]} ]; then
          canAllocate=0
          break
        fi
      done

      if [ $canAllocate -eq 1 ]; then
        # pretend allocate: release its allocation back to available
        for ((j=0; j<m; j++)); do
          avail[$j]=$(( avail[$j] + alloc[$i,$j] ))
        done

        safeSeq[$count]=$i
        finish[$i]=1
        count=$((count + 1))
        found=1
      fi
    fi
  done

  # যদি কোন প্রক্রিয়া মেলেনি, unsafe
  if [ $found -eq 0 ]; then
    echo ""
    echo "The system is NOT in a safe state."
    exit 1
  fi
done

# Safe sequence দেখাও
echo ""
echo "The system is in a SAFE state."
echo -n "Safe Sequence: "
for ((i=0; i<n; i++)); do
  printf "P%s " "${safeSeq[$i]}"
done
echo ""

```
